<?xml version="1.0" ?>
<configuration>
    <configSections>
        <section name="nlog" type="NLog.Config.ConfigSectionHandler, NLog" />
    </configSections>
    <nlog autoReload="true" throwExceptions="true" internalLogFile="internal.txt" internalLogLevel="Debug">
        <targets>
            <target name="file1" type="File" filename="nlog-log.txt" layout="${level} ${longdate} ${message}" concurrentWrites="false" autoFlush="false" />
            <target name="file2" type="File" filename="nlog2-log.txt" layout="${level} ${longdate} ${message}" async="true" />
            <target name="null1" type="Null" formatMessage="true" layout="${level} ${longdate} ${message}" />
            <target name="null2" type="Null" layout="${level} ${longdate} ${message}" />
        </targets>

        <rules>
            <logger name="nonlogger" minlevel="Fatal" appendTo="null1" />
            <logger name="file1" minlevel="Debug"  appendTo="file1" />
            <logger name="file2" minlevel="Debug"  appendTo="file2" />
            <logger name="null1" minlevel="Debug" appendTo="null1" />
            <logger name="null2" minlevel="Debug" appendTo="null2" />
        </rules>
    </nlog>
</configuration>
